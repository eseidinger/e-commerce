<p-card [style]="{ 'max-width': '700px', 'margin': '2em auto' }">
  <ng-template pTemplate="header">
    <span class="pi pi-shopping-cart" style="margin-right:8px;"></span>Order CRUD
  </ng-template>
  @for (msg of msgs; track msg) {
  <p-message [severity]="msg.severity" [text]="msg.text" [closable]="true"></p-message>
  }
  <form (ngSubmit)="saveOrder()">
    <p-fluid style="margin-bottom:1em;">
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-user"></i>
        </p-inputgroup-addon>
        <input pInputText id="customerId" name="customerId" [(ngModel)]="order.customerId" placeholder="Customer ID" />
      </p-inputgroup>
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-calendar"></i>
        </p-inputgroup-addon>
        <input pInputText id="orderDate" name="orderDate" [(ngModel)]="order.orderDate" placeholder="Order Date" />
      </p-inputgroup>
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-money-bill"></i>
        </p-inputgroup-addon>
        <input pInputText id="totalAmount" name="totalAmount" [(ngModel)]="order.totalAmount" placeholder="Total Amount" />
      </p-inputgroup>
    </p-fluid>
    <div style="display: flex; gap: 1em; margin-bottom: 1.5em;">
      <p-button type="submit" label="Save" icon="pi pi-save" class="p-button-success"></p-button>
      <p-button type="button" label="Reset" icon="pi pi-refresh" class="p-button-secondary"
        (click)="resetForm()"></p-button>
    </div>
  </form>
  <p-table [value]="orders" [paginator]="true" [rows]="10" [loading]="loading" style="margin-top:2em;">
    <ng-template pTemplate="header">
      <tr>
        <th>Order ID</th>
        <th>Customer ID</th>
        <th>Order Date</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body">
      @for (o of orders; track o.orderId) {
      <tr>
        <td>{{o.orderId}}</td>
        <td>{{o.customerId}}</td>
        <td>{{o.orderDate}}</td>
        <td>
          <button pButton type="button" icon="pi pi-pencil" class="p-button-info p-mr-2"
            (click)="editOrder(o)"></button>
          <button pButton type="button" icon="pi pi-trash" class="p-button-danger"
            (click)="deleteOrder(o.orderId)"></button>
        </td>
      </tr>
      }
    </ng-template>
  </p-table>
</p-card>
