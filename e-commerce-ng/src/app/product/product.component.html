<p-card [style]="{ 'max-width': '700px', 'margin': '2em auto' }">
  <ng-template pTemplate="header">
    <span class="pi pi-box" style="margin-right:8px;"></span>Product CRUD
  </ng-template>
  @for (msg of msgs; track msg) {
  <div style="margin-bottom:1.25em;">
    <p-message [severity]="msg.severity" [text]="msg.text" [closable]="true"></p-message>
  </div>
  }
  <form (ngSubmit)="saveProduct()">
    <p-fluid style="margin-bottom:1em;">
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-tag"></i>
        </p-inputgroup-addon>
        <input pInputText id="name" name="name" [(ngModel)]="product.name" placeholder="Product Name" />
      </p-inputgroup>
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-align-left"></i>
        </p-inputgroup-addon>
        <input pInputText id="description" name="description" [(ngModel)]="product.description"
          placeholder="Description" />
      </p-inputgroup>
      <p-inputgroup style="margin-bottom: 1.25em;">
        <p-inputgroup-addon>
          <i class="pi pi-dollar"></i>
        </p-inputgroup-addon>
        <input pInputText id="price" name="price" [(ngModel)]="product.price" placeholder="Price" />
      </p-inputgroup>
    </p-fluid>
    <div style="display: flex; gap: 1em; margin-bottom: 1.5em;">
      <p-button type="submit" label="Save" icon="pi pi-save" class="p-button-success"></p-button>
      <p-button type="button" label="Reset" icon="pi pi-refresh" class="p-button-secondary"
        (click)="resetForm()"></p-button>
    </div>
  </form>
  <p-table [value]="products" [paginator]="true" [rows]="10" [loading]="loading" style="margin-top:2em;">
    <ng-template pTemplate="header">
      <tr>
        <th>Product ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body">
      @for (p of products; track p.productId) {
      <tr>
        <td>{{p.productId}}</td>
        <td>{{p.name}}</td>
        <td>{{p.description}}</td>
        <td>{{p.price}}</td>
        <td>
          <button pButton type="button" icon="pi pi-pencil" class="p-button-info p-mr-2"
            (click)="editProduct(p)"></button>
          <button pButton type="button" icon="pi pi-trash" class="p-button-danger"
            (click)="deleteProduct(p.productId)"></button>
        </td>
      </tr>
      }
    </ng-template>
  </p-table>
</p-card>