<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Review CRUD</title>
</h:head>
<h:body>
    <p:card style="max-width:700px;margin:2em auto;">
        <f:facet name="title">
            <span class="pi pi-comments" style="margin-right:8px;"></span>Review CRUD
        </f:facet>
        <p:messages id="errors" globalOnly="true" styleClass="ui-messages-error" closable="true" />
        <h:form id="dataInput">
            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="margin-bottom:1em;">
                <p:outputLabel value="Product ID:" />
                <p:inputText value="#{reviewBean.review.productId}" />
                <p:outputLabel value="Customer ID:" />
                <p:inputText value="#{reviewBean.review.customerId}" />
                <p:outputLabel value="Rating:" />
                <p:inputText value="#{reviewBean.review.rating}" />
                <p:outputLabel value="Comment:" />
                <p:inputText value="#{reviewBean.review.comment}" />
            </p:panelGrid>
            <p:commandButton value="Save" icon="pi pi-save" action="#{reviewBean.save}" styleClass="ui-button-success"
                update="errors dataTable dataInput" />
        </h:form>
        <h:form id="dataTable">
            <p:dataTable value="#{reviewBean.reviews}" var="r" style="margin-top:2em;" paginator="true" rows="10"
                responsiveLayout="scroll">
                <p:column headerText="Review ID">
                    #{r.reviewId}
                </p:column>
                <p:column headerText="Product ID">
                    #{r.product.productId}
                </p:column>
                <p:column headerText="Customer ID">
                    #{r.customer.customerId}
                </p:column>
                <p:column headerText="Rating">
                    #{r.rating}
                </p:column>
                <p:column headerText="Comment">
                    #{r.comment}
                </p:column>
                <p:column headerText="Actions">
                    <p:commandButton value="Edit" icon="pi pi-pencil" action="#{reviewBean.edit(r)}"
                        styleClass="ui-button-info" update="errors dataInput" />
                    <p:commandButton value="Delete" icon="pi pi-trash" action="#{reviewBean.delete(r)}"
                        styleClass="ui-button-danger" update="errors dataTable" />
                </p:column>
            </p:dataTable>
        </h:form>
    </p:card>
</h:body>

</html>