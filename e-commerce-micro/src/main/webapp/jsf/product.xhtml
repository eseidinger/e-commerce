<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Product CRUD</title>
</h:head>
<h:body>
    <p:card style="max-width:700px;margin:2em auto;">
        <f:facet name="title">
            <span class="pi pi-box" style="margin-right:8px;"></span>Product CRUD
        </f:facet>
        <p:messages id="errors" globalOnly="true" styleClass="ui-messages-error" closable="true" />
        <h:form id="dataInput">
            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="margin-bottom:1em;">
                <p:outputLabel value="Name:" />
                <p:inputText value="#{productBean.product.name}" />
                <p:outputLabel value="Description:" />
                <p:inputText value="#{productBean.product.description}" />
                <p:outputLabel value="Price:" />
                <p:inputText value="#{productBean.product.price}" />
            </p:panelGrid>
            <p:commandButton value="Save" icon="pi pi-save" action="#{productBean.save}" styleClass="ui-button-success"
                update="errors dataTable dataInput" />
        </h:form>
        <h:form id="dataTable">
            <p:dataTable value="#{productBean.products}" var="p" style="margin-top:2em;" paginator="true" rows="10"
                responsiveLayout="scroll">
                <p:column headerText="Product ID">
                    #{p.productId}
                </p:column>
                <p:column headerText="Name">
                    #{p.name}
                </p:column>
                <p:column headerText="Description">
                    #{p.description}
                </p:column>
                <p:column headerText="Price">
                    #{p.price}
                </p:column>
                <p:column headerText="Actions">
                    <p:commandButton value="Edit" icon="pi pi-pencil" action="#{productBean.edit(p)}"
                        styleClass="ui-button-info" update="errors dataInput" />
                    <p:commandButton value="Delete" icon="pi pi-trash" action="#{productBean.delete(p)}"
                        styleClass="ui-button-danger" update="errors dataTable" />
                </p:column>
            </p:dataTable>
        </h:form>
    </p:card>
</h:body>

</html>